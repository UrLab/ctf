{% extends "base.html" %}
{% load bootstrap3 %}
{% load teams %}

{% block content %}

{% for category in categories %}
<div class="panel panel-default">
    <div class="panel-heading">{{category.name}}</div>

    <table class="table" align="center">
        <thead>
        <tr>
            <th class="col-xs-1">Validé</th>
            <th class="col-xs-1">Points</th>
            <th>Titre</th>
            <th class="col-xs-1">Résolutions</th>
        </tr>
        </thead>
        <tbody>
        {% for challenge in category.challenge_set.all %}
        {% teams challenge.resolution_set.all as ts%}
        <tr class={%if user.team in ts %}"success"{% else %}"danger"{% endif %}>
            <td>{% if user.team in ts %} V {% else %} X {% endif %}</td>
            <td>{{challenge.points}}</td>
            <td>{{challenge.title}}</td>
            <td>{{challenge.resolution_set.count}}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endfor %}

{% endblock %}
