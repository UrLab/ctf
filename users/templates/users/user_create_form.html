{% extends "base.html" %}
{% load bootstrap3 %}

{% block content %}

<div class="page-header">
    <h1>
        Create an account
    </h1>
</div>


<form method="post" action="">
    {% csrf_token %}

    <div class="row">
        <div class="col-md-12">
            {% bootstrap_form_errors form %}
        </div>

        <div class="form-group col-md-6 {% if form.username.errors %}has-error{% endif%}">
            <label for="username">Username<span class="text-muted">*</span></label>
            <input type="text" class="form-control" id="id_username" name="username" required {% if form.username.value %} value="{{form.username.value}}" {% endif %} placeholder="Username">
            {% for error in form.username.errors%}
                <span class="help-block">{{error}}</span>
            {% endfor%}
        </div>
        <div class="form-group col-md-6 {% if form.email.errors %}has-error{% endif%}">
            <label for="email">Email address<span class="text-muted">* &nbsp;&nbsp;Your academic email is better.</span></label>
            <input type="email" class="form-control" id="id_email" name="email" required {% if form.email.value %} value="{{form.email.value}}" {% endif %} placeholder="Email">
            {% for error in form.email.errors%}
                <span class="help-block">{{error}}</span>
            {% endfor%}
        </div>
    </div>

    <div class="row">
        <div class="form-group col-md-6 {% if form.first_name.errors %}has-error{% endif%}">
            <label for="first_name">First name<span class="text-muted">*</span></label>
            <input type="text" class="form-control" id="id_first_name" name="first_name" required {% if form.first_name.value %} value="{{form.first_name.value}}" {% endif %} placeholder="First name">
            {% for error in form.first_name.errors%}
                <span class="help-block">{{error}}</span>
            {% endfor%}
        </div>
        <div class="form-group col-md-6 {% if form.last_name.errors %}has-error{% endif%}">
            <label for="last_name">Last name<span class="text-muted">*</span></label>
            <input type="text" class="form-control" id="id_last_name" name="last_name" required {% if form.last_name.value %} value="{{form.last_name.value}}" {% endif %} placeholder="Last name">
            {% for error in form.last_name.errors%}
                <span class="help-block">{{error}}</span>
            {% endfor%}
        </div>
    </div>

    <div class="row">
        <div class="form-group col-md-6 {% if form.password1.errors %}has-error{% endif%}">
            <label for="password1">Password<span class="text-muted">*</span></label>
            <input type="password" class="form-control" id="id_password1" name="password1" required {% if form.password1.value %} value="{{form.password1.value}}" {% endif %} placeholder="Password">
            {% for error in password1.errors%}
                <span class="help-block">{{error}}</span>
            {% endfor%}
        </div>
        <div class="form-group col-md-6 {% if form.password2.errors %}has-error{% endif%}">
            <label for="password2">Password<span class="text-muted">* &nbsp;&nbsp;Again, for verification.</span></label>
            <input type="password" class="form-control" id="id_password2" name="password2" required {% if form.password2.value %} value="{{form.password2.value}}" {% endif %} placeholder="Password (again)">
            {% for error in password2.errors%}
                <span class="help-block">{{error}}</span>
            {% endfor%}
        </div>
    </div>

    <div class="row">
        <div class="form-group col-md-6 {% if form.affiliation.errors %}has-error{% endif%}">
            <label for="id_affiliation">Affiliation<span class="text-muted">* &nbsp;&nbsp;What are you studying ?</span></label>
            <select id="id_affiliation" name="affiliation" class="form-control" required>
                {% for x,y in form.fields.affiliation.choices %}
                    <option value="{{ x }}" {% if form.affiliation.value|stringformat:"s" == x|stringformat:"s" %} selected{% endif %}>
                        {{ y }}
                    </option>
                {% endfor %}
            </select>
            {% for error in form.affiliation.errors%}
                <span class="help-block">{{error}}</span>
            {% endfor%}
        </div>

        <div class="form-group col-md-6">
            <label for="">Team</label>
            <input type="text" disabled class="form-control" id="" placeholder="You will be able to join or create a team later.">
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <button type="submit" class="btn btn-success btn-lg">
                {% bootstrap_icon "check" %} Create my account
            </button>
        </div>
        <div class="col-md-12">
            <br>
            <p class="text-muted">Fields marked with a * are mandatory.</p>
        </div>

    </div>


</form>

{% endblock %}
